define(["backbone","jqueryUiDraggable","models/ToolbarModel"],function(e,t,n){var r=e.View.extend({events:{"mousedown #fontSelector > ul > li > a":"selectFamily","mousedown #weightSelector > ul > li > a":"selectWeight"},model:new n,el:"#toolbar",initialize:function(e){_.extend(this,e),this.model.on("change:font",this.getFontWeights,this),this.$(".dragger").draggable({axis:"x",containment:"parent",drag:_.bind(this.setSlider,this)})},setSlider:function(e,t){var n=$(e.target),r=$(e.target).data("attr"),i=$(e.target).data("range"),s=t.position.left/(n.parent().width()-n.width());this.model.set(r,Math.floor(i*s)+12)},selectFamily:function(e){e.preventDefault();var t=$(e.currentTarget).data("name");this.model.set("font",t)},selectWeight:function(e){e.preventDefault();var t=$(e.currentTarget).data("name");this.model.set("weight",t)},getFontWeights:function(e){var t=App.Collections.Fonts.find(function(t){return t.get("name")==e.get("font")});if(!t)return alert("* Font is not avaialbe in prototype");var n=t.get("weights"),r=this.weight_partial({data:n.toJSON()});this.$("#weightSelector > ul").html(r)}});return r});